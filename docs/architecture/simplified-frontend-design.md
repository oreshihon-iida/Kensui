# Kensui アプリケーション 設計仕様書

## 1. アプリケーション概要
シンプルな懸垂記録アプリケーション

### 1.1 主な機能
- 懸垂回数の手動入力
- 日別合計回数の折れ線グラフ表示
- トレーニング履歴の記録

## 2. 技術スタック
- Flutter/Dart
- ローカルストレージ: SharedPreferences
- グラフ表示: fl_chart パッケージ（折れ線グラフ表示用）
- Material Design（UIコンポーネント）

## 3. データモデル

### 3.1 モデル定義
```dart
class TrainingRecord {
  DateTime timestamp;  // 登録年月日時分
  int repetitions;    // 回数
}

class DailyTotal {
  DateTime date;      // 日付（DD形式）
  int totalRepetitions;
  double totalWeight; // 総重量（体重×回数）
}

class UserProfile {
  double height;      // 身長（cm）
  double weight;      // 体重（kg）
  double bodyFat;     // 体脂肪率（%）
}
```

## 4. 画面設計

### 4.1 TOP画面
- メインナビゲーション（BottomNavigationBar）
- 各機能画面へのアクセス

### 4.2 月カレンダー画面
- 月単位でのトレーニング記録表示
- カレンダー形式での記録閲覧
- 日付タップでポップアップ表示
  - その日の履歴表示
  - 回数入力フォーム
  - 保存・キャンセルボタン

### 4.3 ユーザー体調入力画面
- 身長（cm）入力フィールド
- 体重（kg）入力フィールド
- 体脂肪率（%）入力フィールド
- 保存・リセットボタン

### 4.4 グラフ画面
- 日別合計回数グラフ表示
  - X軸: 日付（DD形式）
  - Y軸: 合計回数
- 総重量グラフ表示（体重×回数）
- 表示期間選択
  - 直近1か月（デフォルト）
  - 直近3か月
  - 全期間

## 5. データ永続化
- SharedPreferencesを使用したローカルストレージ
- JSONフォーマットでのデータ保存
- 日別集計データのキャッシュ

## 6. UI/UXガイドライン
- シンプルで直感的な数値入力
- グラフの視認性を重視したデザイン
- 明確な日付表示
- エラー処理（無効な入力値の検証）

## 7. パフォーマンス最適化
- グラフデータの効率的な計算
- メモリ効率の良いデータ構造
- スムーズなアニメーション
